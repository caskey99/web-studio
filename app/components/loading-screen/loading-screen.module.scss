/* Переменные для loading screen */
:root {
  --loading-bg-light: #f1f5f9;
  --loading-bg-dark: #64748b;
  --loading-yellow: #d97706;
  --loading-yellow-light: #fbbf24;
  --loading-trail: rgba(217, 119, 6, 0.3);
  --loading-spinner-size: 60px;
  --loading-duration: 1.2s;
}

/* Основной контейнер */
.loadingScreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: var(--z-loading);
  overflow: hidden;
}

/* Градиентный фон, направленный к области HeroImageClient */
.background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    ellipse 120% 80% at 20% 50%,
    var(--loading-bg-light) 0%,
    var(--loading-bg-dark) 100%
  );
  
  /* Темная тема */
  :global([data-theme="dark"]) & {
    background: radial-gradient(
      ellipse 120% 80% at 20% 50%,
      #1e293b 0%,
      #0f172a 100%
    );
  }
}

/* Контейнер спиннера */
.spinnerContainer {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2;
  transition: opacity 0.3s ease;
}

.fadeOut {
  opacity: 0;
}

/* Спиннер */
.spinner {
  position: relative;
  width: var(--loading-spinner-size);
  height: var(--loading-spinner-size);
  animation: rotate var(--loading-duration) linear infinite;
}

/* Ядро спиннера */
.core {
  width: 100%;
  height: 100%;
  border: 4px solid transparent;
  border-top: 4px solid var(--loading-yellow);
  border-right: 4px solid var(--loading-yellow);
  border-radius: 50%;
  animation: pulse var(--loading-duration) ease-in-out infinite;
}

/* Trailing эффект */
.trail {
  position: absolute;
  top: -2px;
  left: -2px;
  width: calc(100% + 4px);
  height: calc(100% + 4px);
  border: 2px solid var(--loading-trail);
  border-radius: 50%;
  animation: trail calc(var(--loading-duration) * 1.5) ease-out infinite;
}

/* Анимации спиннера */
@keyframes rotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { 
    border-top-color: var(--loading-yellow);
    border-right-color: var(--loading-yellow);
  }
  50% { 
    border-top-color: var(--loading-yellow-light);
    border-right-color: var(--loading-yellow-light);
  }
}

@keyframes trail {
  0% { 
    transform: rotate(0deg) scale(1);
    opacity: 0.8;
  }
  50% {
    transform: rotate(180deg) scale(1.1);
    opacity: 0.4;
  }
  100% { 
    transform: rotate(360deg) scale(1);
    opacity: 0.8;
  }
}

/* Контейнер штор */
.curtains {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 3;
  pointer-events: none;
}

/* Панели штор */
.panel {
  position: absolute;
  background: var(--loading-bg-dark);
  transition: transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1);
  
  :global([data-theme="dark"]) & {
    background: #0f172a;
  }
}

/* Позиционирование панелей */
.leftTop {
  top: 0;
  left: 0;
  width: 50%;
  height: 50%;
}

.leftBottom {
  bottom: 0;
  left: 0;
  width: 50%;
  height: 50%;
}

.rightTop {
  top: 0;
  right: 0;
  width: 50%;
  height: 50%;
}

.rightBottom {
  bottom: 0;
  right: 0;
  width: 50%;
  height: 50%;
}

/* Активная анимация штор */
.active {
  .leftTop {
    transform: translateX(-100%);
    transition-delay: 0ms;
  }
  
  .leftBottom {
    transform: translateX(-100%);
    transition-delay: 150ms;
  }
  
  .rightTop {
    transform: translateX(100%);
    transition-delay: 75ms;
  }
  
  .rightBottom {
    transform: translateX(100%);
    transition-delay: 225ms;
  }
}

/* Мобильная адаптация */
@media (max-width: 768px) {
  :root {
    --loading-spinner-size: 50px;
  }
  
  /* На мобильных только 2 панели */
  .leftBottom,
  .rightBottom {
    display: none;
  }
  
  .leftTop,
  .rightTop {
    height: 100%;
  }
  
  .active {
    .leftTop {
      transition-delay: 0ms;
    }
    
    .rightTop {
      transition-delay: 100ms;
    }
  }
}

/* Уменьшенная анимация для accessibility */
@media (prefers-reduced-motion: reduce) {
  .spinner {
    animation: rotate 2s linear infinite;
  }
  
  .core,
  .trail {
    animation: none;
  }
  
  .trail {
    display: none;
  }
  
  .leftBottom,
  .rightTop,
  .rightBottom {
    display: none;
  }
  
  .leftTop {
    width: 100%;
    height: 100%;
  }
}